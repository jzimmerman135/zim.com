<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
    <title>WebGL Shader</title>
    <link rel="stylesheet" href="/stylesheets/special/webgl.css">
</head>
<body>
    <div id="blockapurple">
        <canvas id="shaderCanvas"></canvas>
    </div>

    

    <%- include('../partials/nav.ejs') %>
    <div id="content">

        
        <h1>WebGL Fragment shader demo!</h1>
        <h6>Published: 8/6/22</h6>
        <hr>
        
        <br>
        <p>If all goes well the fragment shader should appear above the navbar.
            <br>
            Interesting right?
        </p>
        <br>
        <p>The ENTIRE fragment shader code is located below.</p>
        <pre><code id="shadercode"></code></pre>


    </div>
    <%- include('../partials/footer.ejs') %>
</body>

<script src="/scripts/generic/webgl-utils.js"></script>
<script src="/scripts/special/fragShader.js"></script>
<script>
    const shadertoySource = String.raw`
void mainImage( out vec4 fragColor, in vec2 fragCoord )
{
    // Normalized pixel coordinates (from 0 to 1)
    vec2 uv = fragCoord/iResolution.xy;

    // Time varying pixel color
    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));

    // Output to screen
    fragColor = vec4(col,1.0);
}
`;
    const fragSource = webGLFromShadertoy(shadertoySource);
</script>
<script>
    const canvas = document.getElementById('shaderCanvas');
    startFragShader(canvas, String(fragSource));
    insertCodeblock('shadercode', 'glsl', fragSource);


</script>

</html>